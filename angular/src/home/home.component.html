<div class="relative flex flex-col h-[85dvh]">
    <app-counter [totalPrice]="totalPrice" [totalDebit]="totalDebit" [totalCredit]="totalCredit"
        [clientName]="clientName" />
    @if (dataInfo.getExpense.length != 0) {
    <div class="flex-grow grid grid-cols-12 p-4 gap-2 justify-center overflow-y-auto my-3">
        @for (expesne of dataInfo.getExpense; track $index) {
        <div class="col-span-12 md:col-span-6 xl:col-span-4">
            <div class="block overflow-hidden rounded-lg border border-gray-100 p-4 sm:p-6 lg:p-8">
                <span
                    class="absolute inset-x-0 bottom-0 h-2 bg-gradient-to-r from-green-300 via-blue-500 to-purple-600"></span>

                <div class="sm:flex sm:justify-between sm:gap-4">
                    <div>
                        <h3 class="text-lg font-bold text-gray-900 sm:text-xl">
                            {{expesne.title}}
                        </h3>
                    </div>
                </div>

                <dl class="mt-6 flex justify-between gap-4 sm:gap-6">
                    <div class="flex gap-2">
                        <div class="flex flex-col-reverse">
                            @if (expesne.status.toLowerCase().includes('credit')) {
                            <dd class="text-xs text-red-500">{{expesne.amount.toFixed(2)}} &euro;</dd>
                            <dt class="text-sm font-medium text-red-600">Amount</dt>
                            }@else {
                            <dd class="text-xs text-green-500">{{expesne.amount.toFixed(2)}} &euro;</dd>
                            <dt class="text-sm font-medium text-green-600">Amount</dt>
                            }
                        </div>
                        <div class="flex flex-col-reverse">
                            <dd class="text-xs text-gray-500">{{setDate(expesne.createdAt)}}</dd>
                            <dt class="text-sm font-medium text-gray-600">Date</dt>
                        </div>
                    </div>
                    <div class="flex gap-2 flex-col md:flex-row">
                        <app-edit-expense [title]="expesne.title" [amount]="expesne.amount" [expense]="expesne.status"
                            [task_id]="expesne._id" />
                        <button
                        (click)="handleDelete(expesne._id)"
                            class="flex justify-center items-center text-white w-8 h-8 bg-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm text-center dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-800"
                            type="button">
                            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 448 512">
                                <path fill="#ffffff"
                                    d="M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z" />
                            </svg>
                        </button>
                    </div>
                </dl>
            </div>
        </div>
        }
    </div>
    }@else {
    <div class="flex-grow grid grid-cols-12 p-4 gap-2 justify-center overflow-y-auto my-3">
        <div class="col-span-12 md:w-[50%] text-center mx-auto">
            <div class="relative block overflow-hidden rounded-lg border border-gray-100 p-4 sm:p-6 lg:p-8">
                <span
                    class="absolute inset-x-0 bottom-0 h-2 bg-gradient-to-r from-green-300 via-blue-500 to-purple-600"></span>
                <div class="sm:flex sm:justify-between sm:gap-4">
                    <div>
                        <h3 class="text-lg font-bold text-gray-900 sm:text-xl">
                            You do not have any expense to show
                        </h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
    }
</div>